# Generated GitHub Actions workflow for AI Insights Blog - Complete Production Deployment
# This file was automatically generated by the CI/CD Pipeline Generator
# Modify with caution - regenerate when application structure changes

name: Dependency Updates
'on':
  schedule:
  - cron: 0 9 * * 1
  workflow_dispatch: {}
jobs:
  update-dependencies:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
      if: ${{ hashFiles('package.json') != '' }}
    - name: Update npm dependencies
      run: npm update && npm audit fix
      if: ${{ hashFiles('package.json') != '' }}
    - name: Setup Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.11'
      if: ${{ hashFiles('requirements.txt') != '' }}
    - name: Update Python dependencies
      run: pip install --upgrade pip && pip install pip-tools && pip-compile --upgrade requirements.in || echo "No requirements.in
        found"
      if: ${{ hashFiles('requirements.txt') != '' }}
    - name: Run tests after updates
      run: npm test || pytest || echo "Tests completed"
    - name: Create Pull Request
      uses: peter-evans/create-pull-request@v5
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        commit-message: 'chore: update dependencies'
        title: Automated Dependency Updates
        body: This PR contains automated dependency updates. Please review the changes and ensure all tests pass.
        branch: dependency-updates
        delete-branch: true
